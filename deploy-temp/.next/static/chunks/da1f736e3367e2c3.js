(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,27187,e=>{"use strict";var t=e.i(15696),r=e.i(40977),a=e.i(433),s=e.i(42915),n=e.i(33870),o=e.i(7847),l=e.i(83970),i=e.i(71060),c=e.i(87061),d=e.i(82213),u=e.i(46076),m=e.i(20587);let f=(0,m.default)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),p=(0,m.default)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]),h=(0,m.default)("menu",[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]]);var x=e.i(32081),g=e.i(15133),j=e.i(80477),v=e.i(9569),b="horizontal",y=["horizontal","vertical"],N=a.forwardRef((e,r)=>{var a;let{decorative:s,orientation:n=b,...o}=e,l=(a=n,y.includes(a))?n:b;return(0,t.jsx)(v.Primitive.div,{"data-orientation":l,...s?{role:"none"}:{"aria-orientation":"vertical"===l?l:void 0,role:"separator"},...o,ref:r})});N.displayName="Separator";let w=a.forwardRef(({className:e,orientation:r="horizontal",decorative:a=!0,...s},n)=>(0,t.jsx)(N,{ref:n,decorative:a,orientation:r,className:(0,j.cn)("shrink-0 bg-border","horizontal"===r?"h-[1px] w-full":"h-full w-[1px]",e),...s}));w.displayName=N.displayName;var C=e.i(55002),R=e.i(30418),S=e.i(66137),_=e.i(71732),k=e.i(1860);let P=_.Root;_.Trigger,_.Close;let O=_.Portal,A=a.forwardRef((e,a)=>{let s,n,o,l,i=(0,r.c)(9);return i[0]!==e?({className:s,...n}=e,i[0]=e,i[1]=s,i[2]=n):(s=i[1],n=i[2]),i[3]!==s?(o=(0,j.cn)("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),i[3]=s,i[4]=o):o=i[4],i[5]!==n||i[6]!==a||i[7]!==o?(l=(0,t.jsx)(_.Overlay,{className:o,...n,ref:a}),i[5]=n,i[6]=a,i[7]=o,i[8]=l):l=i[8],l});A.displayName=_.Overlay.displayName;let D=a.forwardRef((e,a)=>{let s,n,o,l,i,c,d,u,m=(0,r.c)(18);m[0]!==e?({side:l,className:n,children:s,...o}=e,m[0]=e,m[1]=s,m[2]=n,m[3]=o,m[4]=l):(s=m[1],n=m[2],o=m[3],l=m[4]);let f=void 0===l?"right":l;m[5]===Symbol.for("react.memo_cache_sentinel")?(i=(0,t.jsx)(A,{}),m[5]=i):i=m[5];let p="top"===f&&"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",h="bottom"===f&&"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",x="right"===f&&"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm",g="left"===f&&"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm";return m[6]!==n||m[7]!==p||m[8]!==h||m[9]!==x||m[10]!==g?(c=(0,j.cn)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",p,h,x,g,n),m[6]=n,m[7]=p,m[8]=h,m[9]=x,m[10]=g,m[11]=c):c=m[11],m[12]===Symbol.for("react.memo_cache_sentinel")?(d=(0,t.jsxs)(_.Close,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,t.jsx)(k.X,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]}),m[12]=d):d=m[12],m[13]!==s||m[14]!==o||m[15]!==a||m[16]!==c?(u=(0,t.jsxs)(O,{children:[i,(0,t.jsxs)(_.Content,{ref:a,className:c,...o,children:[s,d]})]}),m[13]=s,m[14]=o,m[15]=a,m[16]=c,m[17]=u):u=m[17],u});D.displayName=_.Content.displayName;let E=e=>{let a,s,n,o,l=(0,r.c)(8);return l[0]!==e?({className:a,...s}=e,l[0]=e,l[1]=a,l[2]=s):(a=l[1],s=l[2]),l[3]!==a?(n=(0,j.cn)("flex flex-col space-y-2 text-center sm:text-left",a),l[3]=a,l[4]=n):n=l[4],l[5]!==s||l[6]!==n?(o=(0,t.jsx)("div",{className:n,...s}),l[5]=s,l[6]=n,l[7]=o):o=l[7],o};E.displayName="SheetHeader";let M=a.forwardRef((e,a)=>{let s,n,o,l,i=(0,r.c)(9);return i[0]!==e?({className:s,...n}=e,i[0]=e,i[1]=s,i[2]=n):(s=i[1],n=i[2]),i[3]!==s?(o=(0,j.cn)("text-lg font-semibold text-foreground",s),i[3]=s,i[4]=o):o=i[4],i[5]!==n||i[6]!==a||i[7]!==o?(l=(0,t.jsx)(_.Title,{ref:a,className:o,...n}),i[5]=n,i[6]=a,i[7]=o,i[8]=l):l=i[8],l});M.displayName=_.Title.displayName;let I=a.forwardRef((e,a)=>{let s,n,o,l,i=(0,r.c)(9);return i[0]!==e?({className:s,...n}=e,i[0]=e,i[1]=s,i[2]=n):(s=i[1],n=i[2]),i[3]!==s?(o=(0,j.cn)("text-sm text-muted-foreground",s),i[3]=s,i[4]=o):o=i[4],i[5]!==n||i[6]!==a||i[7]!==o?(l=(0,t.jsx)(_.Description,{ref:a,className:o,...n}),i[5]=n,i[6]=a,i[7]=o,i[8]=l):l=i[8],l});I.displayName=_.Description.displayName;var $=e.i(54844),F=e.i(80572),T=e.i(92523),L=e.i(13661);e.i(24315);var z=Symbol("radix.slottable");function B(e){return a.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===z}var W=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,r)=>{var s,n;let o,l,i,c=(n=s=`Primitive.${r}`,(o=a.forwardRef((e,t)=>{let{children:r,...s}=e;if(a.isValidElement(r)){var n;let e,o,l=(n=r,(o=(e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?n.ref:(o=(e=Object.getOwnPropertyDescriptor(n,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?n.props.ref:n.props.ref||n.ref),i=function(e,t){let r={...t};for(let a in t){let s=e[a],n=t[a];/^on[A-Z]/.test(a)?s&&n?r[a]=(...e)=>{let t=n(...e);return s(...e),t}:s&&(r[a]=s):"style"===a?r[a]={...s,...n}:"className"===a&&(r[a]=[s,n].filter(Boolean).join(" "))}return{...e,...r}}(s,r.props);return r.type!==a.Fragment&&(i.ref=t?(0,L.composeRefs)(t,l):l),a.cloneElement(r,i)}return a.Children.count(r)>1?a.Children.only(null):null})).displayName=`${n}.SlotClone`,l=o,(i=a.forwardRef((e,r)=>{let{children:s,...n}=e,o=a.Children.toArray(s),i=o.find(B);if(i){let e=i.props.children,s=o.map(t=>t!==i?t:a.Children.count(e)>1?a.Children.only(null):a.isValidElement(e)?e.props.children:null);return(0,t.jsx)(l,{...n,ref:r,children:a.isValidElement(e)?a.cloneElement(e,void 0,s):null})}return(0,t.jsx)(l,{...n,ref:r,children:s})})).displayName=`${s}.Slot`,i),d=a.forwardRef((e,a)=>{let{asChild:s,...n}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(s?c:r,{...n,ref:a})});return d.displayName=`Primitive.${r}`,{...e,[r]:d}},{}),H=e.i(8340),J=e.i(66143),V="Collapsible",[q,U]=function(e,r=[]){let s=[],n=()=>{let t=s.map(e=>a.createContext(e));return function(r){let s=r?.[e]||t;return a.useMemo(()=>({[`__scope${e}`]:{...r,[e]:s}}),[r,s])}};return n.scopeName=e,[function(r,n){let o=a.createContext(n),l=s.length;s=[...s,n];let i=r=>{let{scope:s,children:n,...i}=r,c=s?.[e]?.[l]||o,d=a.useMemo(()=>i,Object.values(i));return(0,t.jsx)(c.Provider,{value:d,children:n})};return i.displayName=r+"Provider",[i,function(t,s){let i=s?.[e]?.[l]||o,c=a.useContext(i);if(c)return c;if(void 0!==n)return n;throw Error(`\`${t}\` must be used within \`${r}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let r=()=>{let r=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let s=r.reduce((t,{useScope:r,scopeName:a})=>{let s=r(e)[`__scope${a}`];return{...t,...s}},{});return a.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return r.scopeName=t.scopeName,r}(n,...r)]}(V),[K,Z]=q(V),X=a.forwardRef((e,r)=>{let{__scopeCollapsible:s,open:n,defaultOpen:o,disabled:l,onOpenChange:i,...c}=e,[d,u]=(0,F.useControllableState)({prop:n,defaultProp:o??!1,onChange:i,caller:V});return(0,t.jsx)(K,{scope:s,disabled:l,contentId:(0,J.useId)(),open:d,onOpenToggle:a.useCallback(()=>u(e=>!e),[u]),children:(0,t.jsx)(W.div,{"data-state":er(d),"data-disabled":l?"":void 0,...c,ref:r})})});X.displayName=V;var G="CollapsibleTrigger",Q=a.forwardRef((e,r)=>{let{__scopeCollapsible:a,...s}=e,n=Z(G,a);return(0,t.jsx)(W.button,{type:"button","aria-controls":n.contentId,"aria-expanded":n.open||!1,"data-state":er(n.open),"data-disabled":n.disabled?"":void 0,disabled:n.disabled,...s,ref:r,onClick:(0,$.composeEventHandlers)(e.onClick,n.onOpenToggle)})});Q.displayName=G;var Y="CollapsibleContent",ee=a.forwardRef((e,r)=>{let{forceMount:a,...s}=e,n=Z(Y,e.__scopeCollapsible);return(0,t.jsx)(H.Presence,{present:a||n.open,children:({present:e})=>(0,t.jsx)(et,{...s,ref:r,present:e})})});ee.displayName=Y;var et=a.forwardRef((e,r)=>{let{__scopeCollapsible:s,present:n,children:o,...l}=e,i=Z(Y,s),[c,d]=a.useState(n),u=a.useRef(null),m=(0,L.useComposedRefs)(r,u),f=a.useRef(0),p=f.current,h=a.useRef(0),x=h.current,g=i.open||c,j=a.useRef(g),v=a.useRef(void 0);return a.useEffect(()=>{let e=requestAnimationFrame(()=>j.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,T.useLayoutEffect)(()=>{let e=u.current;if(e){v.current=v.current||{transitionDuration:e.style.transitionDuration,animationName:e.style.animationName},e.style.transitionDuration="0s",e.style.animationName="none";let t=e.getBoundingClientRect();f.current=t.height,h.current=t.width,j.current||(e.style.transitionDuration=v.current.transitionDuration,e.style.animationName=v.current.animationName),d(n)}},[i.open,n]),(0,t.jsx)(W.div,{"data-state":er(i.open),"data-disabled":i.disabled?"":void 0,id:i.contentId,hidden:!g,...l,ref:m,style:{"--radix-collapsible-content-height":p?`${p}px`:void 0,"--radix-collapsible-content-width":x?`${x}px`:void 0,...e.style},children:g&&o})});function er(e){return e?"open":"closed"}let ea=a.forwardRef(({className:e,...r},a)=>(0,t.jsx)(ee,{ref:a,className:(0,j.cn)("overflow-hidden data-[state=closed]:animate-collapsible-up data-[state=open]:animate-collapsible-down",e),...r}));ea.displayName=ee.displayName;let es=[{icon:o.LayoutDashboard,label:"Dashboard",href:"/juridico/dashboard"},{icon:l.FileText,label:"Demandas",href:"/juridico"},{icon:d.FolderOpen,label:"Arquivos",href:"/juridico/arquivos"},{icon:u.BarChart3,label:"Relatórios",href:"/juridico/relatorios"},{icon:g.Sparkles,label:"Cepalab IA",href:"#",isAction:!0}],en=[{icon:f,label:"Configurações",href:"/juridico/config"}];function eo(e){let a,n,o,d,u,m,f,h,g,v,b,y,N,S,_,k,P=(0,r.c)(36),{pathname:O,isJuridicoOpen:A,setIsJuridicoOpen:D,setMobileOpen:E,signOut:M,onChatOpen:I}=e,$=es.some(e=>"/juridico"===e.href&&"Demandas"===e.label?"/juridico"===O||O?.startsWith("/juridico/"):O===e.href||O?.startsWith(e.href+"/"));P[0]===Symbol.for("react.memo_cache_sentinel")?(a=(0,t.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-primary",children:(0,t.jsx)(l.FileText,{className:"h-5 w-5 text-primary-foreground"})}),P[0]=a):a=P[0],P[1]===Symbol.for("react.memo_cache_sentinel")?(n=(0,t.jsx)("div",{className:"flex h-16 items-center border-b border-border px-6",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[a,(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("span",{className:"text-sm font-semibold text-foreground",children:"Camada Jurídica"}),(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:"Cepalab"})]})]})}),P[1]=n):n=P[1];let F=$?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-accent hover:text-accent-foreground";return P[2]!==F?(o=(0,j.cn)("w-full flex items-center justify-between rounded-lg px-3 py-2 text-sm font-medium transition-colors",F),P[2]=F,P[3]=o):o=P[3],P[4]===Symbol.for("react.memo_cache_sentinel")?(d=(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(x.Scale,{className:"h-5 w-5"}),(0,t.jsx)("span",{children:"Jurídico"})]}),P[4]=d):d=P[4],P[5]!==A?(u=A?(0,t.jsx)(i.ChevronDown,{className:"h-4 w-4"}):(0,t.jsx)(c.ChevronRight,{className:"h-4 w-4"}),P[5]=A,P[6]=u):u=P[6],P[7]!==o||P[8]!==u?(m=(0,t.jsxs)(Q,{className:o,children:[d,u]}),P[7]=o,P[8]=u,P[9]=m):m=P[9],P[10]!==I||P[11]!==O||P[12]!==E?(f=es.map(e=>{let r,a=e.icon;return(r="/juridico"===e.href?"Dashboard"===e.label?"/juridico"===O:"Demandas"===e.label?"/juridico"===O||!!O&&O.startsWith("/juridico/")&&!O.startsWith("/juridico/arquivos")&&!O.startsWith("/juridico/relatorios")&&!O.startsWith("/juridico/config"):O===e.href:O===e.href||!!O&&O.startsWith(e.href+"/"),e.isAction&&I)?(0,t.jsxs)("button",{onClick:()=>{I(),E?.(!1)},className:(0,j.cn)("flex items-center gap-3 rounded-lg px-3 py-2 pl-8 text-sm font-medium transition-colors w-full text-left","text-muted-foreground hover:bg-accent hover:text-accent-foreground"),children:[(0,t.jsx)(a,{className:"h-4 w-4"}),e.label]},`${e.href}-${e.label}`):(0,t.jsxs)(s.default,{href:e.href,onClick:()=>E?.(!1),className:(0,j.cn)("flex items-center gap-3 rounded-lg px-3 py-2 pl-8 text-sm font-medium transition-colors",r?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-accent hover:text-accent-foreground"),children:[(0,t.jsx)(a,{className:"h-4 w-4"}),e.label]},`${e.href}-${e.label}`)}),P[10]=I,P[11]=O,P[12]=E,P[13]=f):f=P[13],P[14]!==f?(h=(0,t.jsx)(ea,{className:"mt-1 space-y-1",children:f}),P[14]=f,P[15]=h):h=P[15],P[16]!==A||P[17]!==D||P[18]!==m||P[19]!==h?(g=(0,t.jsx)(C.ScrollArea,{className:"flex-1",children:(0,t.jsx)("nav",{className:"space-y-1 p-4",children:(0,t.jsxs)(X,{open:A,onOpenChange:D,children:[m,h]})})}),P[16]=A,P[17]=D,P[18]=m,P[19]=h,P[20]=g):g=P[20],P[21]===Symbol.for("react.memo_cache_sentinel")?(v=(0,t.jsx)(w,{}),P[21]=v):v=P[21],P[22]!==O||P[23]!==E?(b=en.map(e=>{let r=e.icon,a=O===e.href;return(0,t.jsxs)(s.default,{href:e.href,onClick:()=>E?.(!1),className:(0,j.cn)("flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium transition-colors",a?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-accent hover:text-accent-foreground"),children:[(0,t.jsx)(r,{className:"h-5 w-5"}),e.label]},e.href)}),P[22]=O,P[23]=E,P[24]=b):b=P[24],P[25]!==b?(y=(0,t.jsx)("div",{className:"space-y-1",children:b}),P[25]=b,P[26]=y):y=P[26],P[27]===Symbol.for("react.memo_cache_sentinel")?(N=(0,t.jsx)(p,{className:"h-5 w-5"}),P[27]=N):N=P[27],P[28]!==M?(S=(0,t.jsxs)(R.Button,{variant:"ghost",className:"mt-4 w-full justify-start gap-3",onClick:M,children:[N,"Sair"]}),P[28]=M,P[29]=S):S=P[29],P[30]!==y||P[31]!==S?(_=(0,t.jsxs)("div",{className:"p-4",children:[y,S]}),P[30]=y,P[31]=S,P[32]=_):_=P[32],P[33]!==g||P[34]!==_?(k=(0,t.jsxs)("div",{className:"flex h-full flex-col",children:[n,g,v,_]}),P[33]=g,P[34]=_,P[35]=k):k=P[35],k}function el(e){let s,o,l,i,c,d,u,m=(0,r.c)(24),{mobileOpen:f,setMobileOpen:p,onChatOpen:h}=e,x=(0,n.usePathname)(),{signOut:g}=(0,S.useAuth)();m[0]!==x?(s=es.some(e=>"/juridico"===e.href?"/juridico"===x||x?.startsWith("/juridico/"):x===e.href||x?.startsWith(e.href+"/")),m[0]=x,m[1]=s):s=m[1];let j=s,[v,b]=(0,a.useState)(j),y=(0,a.useRef)(j);return m[2]!==v||m[3]!==j?(o=()=>{!j||y.current||v||b(!0),y.current=j},l=[j,v],m[2]=v,m[3]=j,m[4]=o,m[5]=l):(o=m[4],l=m[5]),(0,a.useEffect)(o,l),m[6]!==v||m[7]!==h||m[8]!==x||m[9]!==p||m[10]!==g?(i=(0,t.jsx)("aside",{className:"hidden w-[280px] border-r border-border bg-card lg:flex lg:flex-col",children:(0,t.jsx)(eo,{pathname:x,isJuridicoOpen:v,setIsJuridicoOpen:b,setMobileOpen:p,signOut:g,onChatOpen:h})}),m[6]=v,m[7]=h,m[8]=x,m[9]=p,m[10]=g,m[11]=i):i=m[11],m[12]!==v||m[13]!==x||m[14]!==p||m[15]!==g?(c=(0,t.jsx)(D,{side:"left",className:"w-[280px] p-0",children:(0,t.jsx)(eo,{pathname:x,isJuridicoOpen:v,setIsJuridicoOpen:b,setMobileOpen:p,signOut:g})}),m[12]=v,m[13]=x,m[14]=p,m[15]=g,m[16]=c):c=m[16],m[17]!==f||m[18]!==p||m[19]!==c?(d=(0,t.jsx)(P,{open:f,onOpenChange:p,children:c}),m[17]=f,m[18]=p,m[19]=c,m[20]=d):d=m[20],m[21]!==i||m[22]!==d?(u=(0,t.jsxs)(t.Fragment,{children:[i,d]}),m[21]=i,m[22]=d,m[23]=u):u=m[23],u}function ei(e){let a,s,n=(0,r.c)(3),{onClick:o}=e;return n[0]===Symbol.for("react.memo_cache_sentinel")?(a=(0,t.jsx)(h,{className:"h-5 w-5"}),n[0]=a):a=n[0],n[1]!==o?(s=(0,t.jsx)(R.Button,{variant:"ghost",size:"icon",className:"lg:hidden",onClick:o,children:a}),n[1]=o,n[2]=s):s=n[2],s}var ec=e.i(54792),ed=e.i(98744),eu=e.i(75176),em=e.i(5800);function ef(){return()=>{}}var ep="Avatar",[eh,ex]=function(e,r=[]){let s=[],n=()=>{let t=s.map(e=>a.createContext(e));return function(r){let s=r?.[e]||t;return a.useMemo(()=>({[`__scope${e}`]:{...r,[e]:s}}),[r,s])}};return n.scopeName=e,[function(r,n){let o=a.createContext(n);o.displayName=r+"Context";let l=s.length;s=[...s,n];let i=r=>{let{scope:s,children:n,...i}=r,c=s?.[e]?.[l]||o,d=a.useMemo(()=>i,Object.values(i));return(0,t.jsx)(c.Provider,{value:d,children:n})};return i.displayName=r+"Provider",[i,function(t,s){let i=s?.[e]?.[l]||o,c=a.useContext(i);if(c)return c;if(void 0!==n)return n;throw Error(`\`${t}\` must be used within \`${r}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let r=()=>{let r=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let s=r.reduce((t,{useScope:r,scopeName:a})=>{let s=r(e)[`__scope${a}`];return{...t,...s}},{});return a.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return r.scopeName=t.scopeName,r}(n,...r)]}(ep),[eg,ej]=eh(ep),ev=a.forwardRef((e,r)=>{let{__scopeAvatar:s,...n}=e,[o,l]=a.useState("idle");return(0,t.jsx)(eg,{scope:s,imageLoadingStatus:o,onImageLoadingStatusChange:l,children:(0,t.jsx)(v.Primitive.span,{...n,ref:r})})});ev.displayName=ep;var eb="AvatarImage",ey=a.forwardRef((e,r)=>{let{__scopeAvatar:s,src:n,onLoadingStatusChange:o=()=>{},...l}=e,i=ej(eb,s),c=function(e,{referrerPolicy:t,crossOrigin:r}){let s=(0,em.useSyncExternalStore)(ef,()=>!0,()=>!1),n=a.useRef(null),o=s?(n.current||(n.current=new window.Image),n.current):null,[l,i]=a.useState(()=>eC(o,e));return(0,T.useLayoutEffect)(()=>{i(eC(o,e))},[o,e]),(0,T.useLayoutEffect)(()=>{let e=e=>()=>{i(e)};if(!o)return;let a=e("loaded"),s=e("error");return o.addEventListener("load",a),o.addEventListener("error",s),t&&(o.referrerPolicy=t),"string"==typeof r&&(o.crossOrigin=r),()=>{o.removeEventListener("load",a),o.removeEventListener("error",s)}},[o,r,t]),l}(n,l),d=(0,eu.useCallbackRef)(e=>{o(e),i.onImageLoadingStatusChange(e)});return(0,T.useLayoutEffect)(()=>{"idle"!==c&&d(c)},[c,d]),"loaded"===c?(0,t.jsx)(v.Primitive.img,{...l,ref:r,src:n}):null});ey.displayName=eb;var eN="AvatarFallback",ew=a.forwardRef((e,r)=>{let{__scopeAvatar:s,delayMs:n,...o}=e,l=ej(eN,s),[i,c]=a.useState(void 0===n);return a.useEffect(()=>{if(void 0!==n){let e=window.setTimeout(()=>c(!0),n);return()=>window.clearTimeout(e)}},[n]),i&&"loaded"!==l.imageLoadingStatus?(0,t.jsx)(v.Primitive.span,{...o,ref:r}):null});function eC(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}ew.displayName=eN;let eR=a.forwardRef(({className:e,...r},a)=>(0,t.jsx)(ev,{ref:a,className:(0,j.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...r}));eR.displayName=ev.displayName;let eS=a.forwardRef(({className:e,...r},a)=>(0,t.jsx)(ey,{ref:a,className:(0,j.cn)("aspect-square h-full w-full",e),...r}));eS.displayName=ey.displayName;let e_=a.forwardRef(({className:e,...r},a)=>(0,t.jsx)(ew,{ref:a,className:(0,j.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...r}));e_.displayName=ew.displayName;var ek=e.i(82060);let eP=(0,m.default)("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);var eO=e.i(70652),eA=e.i(56171),eD=e.i(40426);let eE=(0,m.default)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);var eM=e.i(59911),eI=e.i(62087),e$=e.i(99502),eF=e.i(24806),eT=e.i(37978);function eL(e){var r;let s,n=(r=e,(s=a.forwardRef((e,t)=>{let{children:r,...s}=e;if(a.isValidElement(r)){var n;let e,o,l=(n=r,(o=(e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?n.ref:(o=(e=Object.getOwnPropertyDescriptor(n,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?n.props.ref:n.props.ref||n.ref),i=function(e,t){let r={...t};for(let a in t){let s=e[a],n=t[a];/^on[A-Z]/.test(a)?s&&n?r[a]=(...e)=>{let t=n(...e);return s(...e),t}:s&&(r[a]=s):"style"===a?r[a]={...s,...n}:"className"===a&&(r[a]=[s,n].filter(Boolean).join(" "))}return{...e,...r}}(s,r.props);return r.type!==a.Fragment&&(i.ref=t?(0,L.composeRefs)(t,l):l),a.cloneElement(r,i)}return a.Children.count(r)>1?a.Children.only(null):null})).displayName=`${r}.SlotClone`,s),o=a.forwardRef((e,r)=>{let{children:s,...o}=e,l=a.Children.toArray(s),i=l.find(eB);if(i){let e=i.props.children,s=l.map(t=>t!==i?t:a.Children.count(e)>1?a.Children.only(null):a.isValidElement(e)?e.props.children:null);return(0,t.jsx)(n,{...o,ref:r,children:a.isValidElement(e)?a.cloneElement(e,void 0,s):null})}return(0,t.jsx)(n,{...o,ref:r,children:s})});return o.displayName=`${e}.Slot`,o}var ez=Symbol("radix.slottable");function eB(e){return a.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===ez}var eW=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,r)=>{let s=eL(`Primitive.${r}`),n=a.forwardRef((e,a)=>{let{asChild:n,...o}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(n?s:r,{...o,ref:a})});return n.displayName=`Primitive.${r}`,{...e,[r]:n}},{}),eH=e.i(19369),eJ=e.i(39824),eV="Popover",[eq,eU]=function(e,r=[]){let s=[],n=()=>{let t=s.map(e=>a.createContext(e));return function(r){let s=r?.[e]||t;return a.useMemo(()=>({[`__scope${e}`]:{...r,[e]:s}}),[r,s])}};return n.scopeName=e,[function(r,n){let o=a.createContext(n),l=s.length;s=[...s,n];let i=r=>{let{scope:s,children:n,...i}=r,c=s?.[e]?.[l]||o,d=a.useMemo(()=>i,Object.values(i));return(0,t.jsx)(c.Provider,{value:d,children:n})};return i.displayName=r+"Provider",[i,function(t,s){let i=s?.[e]?.[l]||o,c=a.useContext(i);if(c)return c;if(void 0!==n)return n;throw Error(`\`${t}\` must be used within \`${r}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let r=()=>{let r=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let s=r.reduce((t,{useScope:r,scopeName:a})=>{let s=r(e)[`__scope${a}`];return{...t,...s}},{});return a.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return r.scopeName=t.scopeName,r}(n,...r)]}(eV,[eF.createPopperScope]),eK=(0,eF.createPopperScope)(),[eZ,eX]=eq(eV),eG=e=>{let{__scopePopover:r,children:s,open:n,defaultOpen:o,onOpenChange:l,modal:i=!1}=e,c=eK(r),d=a.useRef(null),[u,m]=a.useState(!1),[f,p]=(0,F.useControllableState)({prop:n,defaultProp:o??!1,onChange:l,caller:eV});return(0,t.jsx)(eF.Root,{...c,children:(0,t.jsx)(eZ,{scope:r,contentId:(0,J.useId)(),triggerRef:d,open:f,onOpenChange:p,onOpenToggle:a.useCallback(()=>p(e=>!e),[p]),hasCustomAnchor:u,onCustomAnchorAdd:a.useCallback(()=>m(!0),[]),onCustomAnchorRemove:a.useCallback(()=>m(!1),[]),modal:i,children:s})})};eG.displayName=eV;var eQ="PopoverAnchor";a.forwardRef((e,r)=>{let{__scopePopover:s,...n}=e,o=eX(eQ,s),l=eK(s),{onCustomAnchorAdd:i,onCustomAnchorRemove:c}=o;return a.useEffect(()=>(i(),()=>c()),[i,c]),(0,t.jsx)(eF.Anchor,{...l,...n,ref:r})}).displayName=eQ;var eY="PopoverTrigger",e0=a.forwardRef((e,r)=>{let{__scopePopover:a,...s}=e,n=eX(eY,a),o=eK(a),l=(0,L.useComposedRefs)(r,n.triggerRef),i=(0,t.jsx)(eW.button,{type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":tr(n.open),...s,ref:l,onClick:(0,$.composeEventHandlers)(e.onClick,n.onOpenToggle)});return n.hasCustomAnchor?i:(0,t.jsx)(eF.Anchor,{asChild:!0,...o,children:i})});e0.displayName=eY;var e1="PopoverPortal",[e2,e3]=eq(e1,{forceMount:void 0}),e4=e=>{let{__scopePopover:r,forceMount:a,children:s,container:n}=e,o=eX(e1,r);return(0,t.jsx)(e2,{scope:r,forceMount:a,children:(0,t.jsx)(H.Presence,{present:a||o.open,children:(0,t.jsx)(eT.Portal,{asChild:!0,container:n,children:s})})})};e4.displayName=e1;var e5="PopoverContent",e6=a.forwardRef((e,r)=>{let a=e3(e5,e.__scopePopover),{forceMount:s=a.forceMount,...n}=e,o=eX(e5,e.__scopePopover);return(0,t.jsx)(H.Presence,{present:s||o.open,children:o.modal?(0,t.jsx)(e8,{...n,ref:r}):(0,t.jsx)(e9,{...n,ref:r})})});e6.displayName=e5;var e7=eL("PopoverContent.RemoveScroll"),e8=a.forwardRef((e,r)=>{let s=eX(e5,e.__scopePopover),n=a.useRef(null),o=(0,L.useComposedRefs)(r,n),l=a.useRef(!1);return a.useEffect(()=>{let e=n.current;if(e)return(0,eH.hideOthers)(e)},[]),(0,t.jsx)(eJ.RemoveScroll,{as:e7,allowPinchZoom:!0,children:(0,t.jsx)(te,{...e,ref:o,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,$.composeEventHandlers)(e.onCloseAutoFocus,e=>{e.preventDefault(),l.current||s.triggerRef.current?.focus()}),onPointerDownOutside:(0,$.composeEventHandlers)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey;l.current=2===t.button||r},{checkForDefaultPrevented:!1}),onFocusOutside:(0,$.composeEventHandlers)(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1})})})}),e9=a.forwardRef((e,r)=>{let s=eX(e5,e.__scopePopover),n=a.useRef(!1),o=a.useRef(!1);return(0,t.jsx)(te,{...e,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(n.current||s.triggerRef.current?.focus(),t.preventDefault()),n.current=!1,o.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(n.current=!0,"pointerdown"===t.detail.originalEvent.type&&(o.current=!0));let r=t.target;s.triggerRef.current?.contains(r)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&o.current&&t.preventDefault()}})}),te=a.forwardRef((e,r)=>{let{__scopePopover:a,trapFocus:s,onOpenAutoFocus:n,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEscapeKeyDown:i,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:u,...m}=e,f=eX(e5,a),p=eK(a);return(0,eI.useFocusGuards)(),(0,t.jsx)(e$.FocusScope,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:n,onUnmountAutoFocus:o,children:(0,t.jsx)(eM.DismissableLayer,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:u,onEscapeKeyDown:i,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>f.onOpenChange(!1),children:(0,t.jsx)(eF.Content,{"data-state":tr(f.open),role:"dialog",id:f.contentId,...p,...m,ref:r,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),tt="PopoverClose";function tr(e){return e?"open":"closed"}a.forwardRef((e,r)=>{let{__scopePopover:a,...s}=e,n=eX(tt,a);return(0,t.jsx)(eW.button,{type:"button",...s,ref:r,onClick:(0,$.composeEventHandlers)(e.onClick,()=>n.onOpenChange(!1))})}).displayName=tt,a.forwardRef((e,r)=>{let{__scopePopover:a,...s}=e,n=eK(a);return(0,t.jsx)(eF.Arrow,{...n,...s,ref:r})}).displayName="PopoverArrow";let ta=a.forwardRef(({className:e,align:r="center",sideOffset:a=4,...s},n)=>(0,t.jsx)(e4,{children:(0,t.jsx)(e6,{ref:n,align:r,sideOffset:a,className:(0,j.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})}));ta.displayName=e6.displayName;var ts=e.i(63237);function tn(){let[e,r]=(0,a.useState)([]),[n,o]=(0,a.useState)(!0),[l,i]=(0,a.useState)(!1);async function c(){try{let e=await fetch("/api/juridico/notificacoes");if(e.ok){let t=await e.json();r(t.notificacoes||[])}}catch(e){console.error("Erro ao carregar notificações:",e)}finally{o(!1)}}(0,a.useEffect)(()=>{c();let e=setInterval(c,3e5);return()=>clearInterval(e)},[]);let d=e=>{switch(e){case"alta":return"bg-red-500/10 text-red-500 border-red-500/20";case"media":return"bg-yellow-500/10 text-yellow-500 border-yellow-500/20";case"baixa":return"bg-blue-500/10 text-blue-500 border-blue-500/20"}},u=e.filter(e=>"alta"===e.urgencia).length,m=e.length;return(0,t.jsxs)(eG,{open:l,onOpenChange:i,children:[(0,t.jsx)(e0,{asChild:!0,children:(0,t.jsxs)(R.Button,{variant:"ghost",size:"icon",className:"relative",children:[(0,t.jsx)(eP,{className:"h-5 w-5"}),m>0&&(0,t.jsx)(ts.Badge,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 text-xs",children:m>9?"9+":m})]})}),(0,t.jsxs)(ta,{className:"w-96 p-0",align:"end",children:[(0,t.jsxs)("div",{className:"p-4 border-b",children:[(0,t.jsx)("h3",{className:"font-semibold",children:"Notificações"}),u>0&&(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:[u," urgente",u>1?"s":""]})]}),(0,t.jsx)(C.ScrollArea,{className:"h-[400px]",children:n?(0,t.jsx)("div",{className:"p-4 text-center text-sm text-muted-foreground",children:"Carregando..."}):0===e.length?(0,t.jsx)("div",{className:"p-4 text-center text-sm text-muted-foreground",children:"Nenhuma notificação"}):(0,t.jsx)("div",{className:"divide-y",children:e.map(e=>(0,t.jsx)(s.default,{href:`/juridico/${e.id.split("-")[0]}`,onClick:()=>i(!1),className:"block p-4 hover:bg-accent transition-colors",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:(0,j.cn)("flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center border",d(e.urgencia)),children:(e=>{switch(e){case"prazo":return(0,t.jsx)(eA.Clock,{className:"h-4 w-4"});case"entrega":return(0,t.jsx)(eD.Calendar,{className:"h-4 w-4"});case"fim_contrato":return(0,t.jsx)(eO.AlertCircle,{className:"h-4 w-4"});case"pagamento":return(0,t.jsx)(eE,{className:"h-4 w-4"})}})(e.tipo)}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"font-medium text-sm",children:e.titulo}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:e.descricao}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,t.jsx)(ts.Badge,{variant:"outline",className:(0,j.cn)("text-xs",d(e.urgencia)),children:0===e.diasRestantes?"Hoje":1===e.diasRestantes?"Amanhã":`${e.diasRestantes} dias`}),(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:new Date(e.data).toLocaleDateString("pt-BR")})]})]})]})},e.id))})})]})]})}function to(){let e,s,n,o,l,i,c,d,u,m,f,p,h,x,g,j,v,b,y,N,w,C,R,_=(0,r.c)(40),{user:k}=(0,S.useAuth)(),[P,O]=(0,a.useState)("");_[0]!==k?.email?(e=k?.email?.split("@")[0].substring(0,2).toUpperCase()||"U",_[0]=k?.email,_[1]=e):e=_[1];let A=e;_[2]===Symbol.for("react.memo_cache_sentinel")?(s=(0,t.jsx)(ec.Search,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),_[2]=s):s=_[2],_[3]===Symbol.for("react.memo_cache_sentinel")?(n=e=>O(e.target.value),_[3]=n):n=_[3],_[4]!==P?(o=(0,t.jsx)("div",{className:"flex flex-1 items-center gap-4",children:(0,t.jsxs)("div",{className:"relative w-full max-w-sm",children:[s,(0,t.jsx)(ed.Input,{type:"search",placeholder:"Buscar demandas, clientes...",value:P,onChange:n,className:"pl-9"})]})}),_[4]=P,_[5]=o):o=_[5],_[6]===Symbol.for("react.memo_cache_sentinel")?(l=(0,t.jsx)(tn,{}),_[6]=l):l=_[6];let D=k?.user_metadata?.avatar_url;_[7]!==D?(i=(0,t.jsx)(eS,{src:D}),_[7]=D,_[8]=i):i=_[8],_[9]!==A?(c=(0,t.jsx)(e_,{children:A}),_[9]=A,_[10]=c):c=_[10],_[11]!==i||_[12]!==c?(d=(0,t.jsxs)(eR,{className:"h-8 w-8",children:[i,c]}),_[11]=i,_[12]=c,_[13]=d):d=_[13],_[14]!==k?.email?(u=k?.email?.split("@")[0]||"Usuário",_[14]=k?.email,_[15]=u):u=_[15],_[16]!==u?(m=(0,t.jsx)("span",{className:"font-medium text-foreground",children:u}),_[16]=u,_[17]=m):m=_[17],_[18]===Symbol.for("react.memo_cache_sentinel")?(f=(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:"Jurídico"}),_[18]=f):f=_[18],_[19]!==m?(p=(0,t.jsxs)("div",{className:"hidden flex-col items-start text-left text-sm md:flex",children:[m,f]}),_[19]=m,_[20]=p):p=_[20],_[21]!==p||_[22]!==d?(h=(0,t.jsx)(ek.DropdownMenuTrigger,{asChild:!0,children:(0,t.jsxs)("button",{className:"flex items-center gap-3 rounded-lg p-2 hover:bg-accent",children:[d,p]})}),_[21]=p,_[22]=d,_[23]=h):h=_[23],_[24]===Symbol.for("react.memo_cache_sentinel")?(x=(0,t.jsx)("p",{className:"text-sm font-medium leading-none",children:"Minha Conta"}),_[24]=x):x=_[24];let E=k?.email;return _[25]!==E?(g=(0,t.jsx)(ek.DropdownMenuLabel,{children:(0,t.jsxs)("div",{className:"flex flex-col space-y-1",children:[x,(0,t.jsx)("p",{className:"text-xs leading-none text-muted-foreground",children:E})]})}),_[25]=E,_[26]=g):g=_[26],_[27]===Symbol.for("react.memo_cache_sentinel")?(j=(0,t.jsx)(ek.DropdownMenuSeparator,{}),v=(0,t.jsx)(ek.DropdownMenuItem,{children:"Perfil"}),b=(0,t.jsx)(ek.DropdownMenuItem,{children:"Configurações"}),y=(0,t.jsx)(ek.DropdownMenuSeparator,{}),N=(0,t.jsx)(ek.DropdownMenuItem,{children:"Suporte"}),_[27]=j,_[28]=v,_[29]=b,_[30]=y,_[31]=N):(j=_[27],v=_[28],b=_[29],y=_[30],N=_[31]),_[32]!==g?(w=(0,t.jsxs)(ek.DropdownMenuContent,{align:"end",className:"w-56",children:[g,j,v,b,y,N]}),_[32]=g,_[33]=w):w=_[33],_[34]!==h||_[35]!==w?(C=(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[l,(0,t.jsxs)(ek.DropdownMenu,{children:[h,w]})]}),_[34]=h,_[35]=w,_[36]=C):C=_[36],_[37]!==C||_[38]!==o?(R=(0,t.jsxs)("div",{className:"flex flex-1 items-center gap-4",children:[o,C]}),_[37]=C,_[38]=o,_[39]=R):R=_[39],R}var tl=e.i(77952);function ti(e){let s,o,l,i=(0,r.c)(8),{children:c}=e,{user:d,loading:u}=(0,S.useAuth)(),m=(0,n.useRouter)();if(i[0]!==u||i[1]!==m||i[2]!==d?(s=()=>{u||d||m.push("/login")},o=[d,u,m],i[0]=u,i[1]=m,i[2]=d,i[3]=s,i[4]=o):(s=i[3],o=i[4]),(0,a.useEffect)(s,o),u){let e;return i[5]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,t.jsx)(tl.Loader2,{className:"animate-spin text-neon",size:32}),(0,t.jsx)("p",{className:"text-white/60",children:"Carregando..."})]})}),i[5]=e):e=i[5],e}return d?(i[6]!==c?(l=(0,t.jsx)(t.Fragment,{children:c}),i[6]=c,i[7]=l):l=i[7],l):null}var tc=e.i(89642);let td=(0,m.default)("pen-tool",[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);function tu({open:e,onOpenChange:r}){let[s,n]=(0,a.useState)(""),[o,i]=(0,a.useState)([]),[c,d]=(0,a.useState)(!1),m=(0,a.useRef)(null);(0,a.useEffect)(()=>{m.current&&(m.current.scrollTop=m.current.scrollHeight)},[o]);let f=async e=>{if(!e.trim()||c)return;let t={id:Date.now().toString(),role:"user",content:e};i(e=>[...e,t]),d(!0);try{let t=await fetch("/api/juridico/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:e,messageHistory:o.map(e=>({role:e.role,content:e.content}))})});if(!t.ok)throw Error("Erro ao enviar mensagem");let r=t.body?.getReader(),a=new TextDecoder,s="",n={id:(Date.now()+1).toString(),role:"assistant",content:""};if(i(e=>[...e,n]),r)for(;;){let{done:e,value:t}=await r.read();if(e)break;let o=a.decode(t,{stream:!0});s+=o,i(e=>e.map(e=>e.id===n.id?{...e,content:s}:e))}}catch(t){console.error("Erro no chat:",t);let e={id:(Date.now()+1).toString(),role:"assistant",content:"Desculpe, ocorreu um erro ao processar sua mensagem. Tente novamente."};i(t=>[...t,e])}finally{d(!1)}},p=async e=>{let t="";switch(e){case"resumir":t="Por favor, resuma os principais contratos e documentos jurídicos cadastrados no sistema.";break;case"analisar":t="Analise os riscos jurídicos das demandas pendentes e me informe sobre pontos críticos.";break;case"redigir":t="Ajuda-me a redigir um texto jurídico. Por favor, me oriente sobre a estrutura e conteúdo necessário.";break;default:return}await f(t)},h=async e=>{e.preventDefault(),!s.trim()||c||(n(""),await f(s))};return(0,t.jsx)(P,{open:e,onOpenChange:r,children:(0,t.jsxs)(D,{side:"right",className:"w-full sm:w-[540px] p-0 flex flex-col",children:[(0,t.jsx)(E,{className:"border-b p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-primary",children:(0,t.jsx)(g.Sparkles,{className:"h-5 w-5 text-primary-foreground"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)(M,{children:"Cepalab IA"}),(0,t.jsx)(I,{children:"Assistente Jurídica Inteligente"})]})]}),(0,t.jsx)(R.Button,{variant:"ghost",size:"icon",onClick:()=>r(!1),children:(0,t.jsx)(k.X,{className:"h-4 w-4"})})]})}),(0,t.jsxs)("div",{className:"p-4 border-b space-y-2",children:[(0,t.jsx)("p",{className:"text-xs font-medium text-muted-foreground",children:"Ações Rápidas"}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,t.jsxs)(R.Button,{variant:"outline",size:"sm",onClick:()=>p("resumir"),disabled:c,className:"text-xs",children:[(0,t.jsx)(l.FileText,{className:"mr-1 h-3 w-3"}),"Resumir"]}),(0,t.jsxs)(R.Button,{variant:"outline",size:"sm",onClick:()=>p("analisar"),disabled:c,className:"text-xs",children:[(0,t.jsx)(u.BarChart3,{className:"mr-1 h-3 w-3"}),"Analisar"]}),(0,t.jsxs)(R.Button,{variant:"outline",size:"sm",onClick:()=>p("redigir"),disabled:c,className:"text-xs",children:[(0,t.jsx)(td,{className:"mr-1 h-3 w-3"}),"Redigir"]})]})]}),(0,t.jsx)(C.ScrollArea,{className:"flex-1 p-4",ref:m,children:(0,t.jsxs)("div",{className:"space-y-4",children:[0===o.length&&(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[(0,t.jsx)(g.Sparkles,{className:"h-12 w-12 text-muted-foreground mb-4"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:"Olá! Sou a Cepalab IA, sua assistente jurídica."}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Posso ajudar com resumos, análises, redação de textos e dúvidas sobre demandas."})]}),o.map(e=>(0,t.jsxs)("div",{className:(0,j.cn)("flex gap-3","user"===e.role?"justify-end":"justify-start"),children:["assistant"===e.role&&(0,t.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-primary shrink-0",children:(0,t.jsx)(g.Sparkles,{className:"h-4 w-4 text-primary-foreground"})}),(0,t.jsx)("div",{className:(0,j.cn)("rounded-lg px-4 py-2 max-w-[80%]","user"===e.role?"bg-primary text-primary-foreground":"bg-muted text-foreground"),children:(0,t.jsx)("p",{className:"text-sm whitespace-pre-wrap",children:e.content})}),"user"===e.role&&(0,t.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-muted shrink-0",children:(0,t.jsx)("span",{className:"text-xs",children:"U"})})]},e.id)),c&&o[o.length-1]?.role==="user"&&(0,t.jsxs)("div",{className:"flex gap-3 justify-start",children:[(0,t.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-primary shrink-0",children:(0,t.jsx)(g.Sparkles,{className:"h-4 w-4 text-primary-foreground"})}),(0,t.jsx)("div",{className:"rounded-lg px-4 py-2 bg-muted",children:(0,t.jsx)(tl.Loader2,{className:"h-4 w-4 animate-spin"})})]})]})}),(0,t.jsx)("form",{onSubmit:h,className:"border-t p-4",children:(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(ed.Input,{value:s,onChange:e=>n(e.target.value),placeholder:"Digite sua mensagem...",disabled:c,className:"flex-1"}),(0,t.jsx)(R.Button,{type:"submit",disabled:c||!s.trim(),children:c?(0,t.jsx)(tl.Loader2,{className:"h-4 w-4 animate-spin"}):(0,t.jsx)(tc.Send,{className:"h-4 w-4"})})]})})]})})}function tm(e){let s,n,o,l,i,c,d=(0,r.c)(12),{children:u}=e,[m,f]=(0,a.useState)(!1),[p,h]=(0,a.useState)(!1);return d[0]===Symbol.for("react.memo_cache_sentinel")?(s=()=>h(!0),d[0]=s):s=d[0],d[1]!==m?(n=(0,t.jsx)(el,{mobileOpen:m,setMobileOpen:f,onChatOpen:s}),d[1]=m,d[2]=n):n=d[2],d[3]===Symbol.for("react.memo_cache_sentinel")?(o=(0,t.jsxs)("div",{className:"flex h-16 items-center gap-4 border-b border-border px-4 lg:px-6 bg-background",children:[(0,t.jsx)(ei,{onClick:()=>f(!0)}),(0,t.jsx)(to,{})]}),d[3]=o):o=d[3],d[4]!==u?(l=(0,t.jsxs)("div",{className:"flex flex-1 flex-col overflow-hidden",children:[o,(0,t.jsx)("main",{className:"flex-1 overflow-y-auto bg-background",children:u})]}),d[4]=u,d[5]=l):l=d[5],d[6]!==p?(i=(0,t.jsx)(tu,{open:p,onOpenChange:h}),d[6]=p,d[7]=i):i=d[7],d[8]!==n||d[9]!==l||d[10]!==i?(c=(0,t.jsx)(ti,{children:(0,t.jsxs)("div",{className:"flex h-screen overflow-hidden bg-background",children:[n,l,i]})}),d[8]=n,d[9]=l,d[10]=i,d[11]=c):c=d[11],c}e.s(["MainLayout",()=>tm],27187)}]);