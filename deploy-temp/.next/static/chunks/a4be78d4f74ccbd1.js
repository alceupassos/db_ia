(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,9709,e=>{"use strict";var a=e.i(71940);let t=(0,a.createServerReference)("00026e1710be57f038693261f67e8e67c5c0b599f8",a.callServer,void 0,a.findSourceMapURL,"getUniqueResponsaveis");e.s(["getUniqueResponsaveis",()=>t])},85012,e=>{"use strict";var a=e.i(71940);let t=(0,a.createServerReference)("00f512c64707a4985c37eb46128af65ae3dc4ac475",a.callServer,void 0,a.findSourceMapURL,"getUniqueClientes");e.s(["getUniqueClientes",()=>t])},90739,30836,e=>{"use strict";var a=e.i(71940);let t=(0,a.createServerReference)("401e67d38b57b3c4dad7b28a34e7f256632b736dfd",a.callServer,void 0,a.findSourceMapURL,"deleteDemanda");e.s(["deleteDemanda",()=>t],90739);let s=(0,e.i(20587).default)("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);e.s(["Pencil",()=>s],30836)},27932,e=>{"use strict";var a=e.i(71940);let t=(0,a.createServerReference)("008c67a34b93be7aa0521a8693a859ec5059b72495",a.callServer,void 0,a.findSourceMapURL,"getKPIs");e.s(["getKPIs",()=>t])},30673,e=>{"use strict";var a=e.i(15696),t=e.i(40977),s=e.i(48746),r=e.i(80520),n=e.i(83365),i=e.i(80477);function l(e){let l,d,o,c,m,x,u,h,f=(0,t.c)(20),{title:p,value:g,trend:j,icon:v,description:N}=e;return f[0]!==p?(l=(0,a.jsx)(s.CardTitle,{className:"text-sm font-medium text-muted-foreground",children:p}),f[0]=p,f[1]=l):l=f[1],f[2]!==v?(d=v&&(0,a.jsx)("div",{className:"text-muted-foreground",children:v}),f[2]=v,f[3]=d):d=f[3],f[4]!==l||f[5]!==d?(o=(0,a.jsxs)(s.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l,d]}),f[4]=l,f[5]=d,f[6]=o):o=f[6],f[7]!==g?(c=(0,a.jsx)("div",{className:"text-2xl font-bold",children:g}),f[7]=g,f[8]=c):c=f[8],f[9]!==j?(m=j&&(0,a.jsxs)("div",{className:"flex items-center gap-1 mt-2",children:[j.isPositive?(0,a.jsx)(r.TrendingUp,{className:"h-4 w-4 text-emerald-500"}):(0,a.jsx)(n.TrendingDown,{className:"h-4 w-4 text-rose-500"}),(0,a.jsxs)("span",{className:(0,i.cn)("text-xs font-medium",j.isPositive?"text-emerald-500":"text-rose-500"),children:[Math.abs(j.value),"%"]}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:"vs mês anterior"})]}),f[9]=j,f[10]=m):m=f[10],f[11]!==N?(x=N&&(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:N}),f[11]=N,f[12]=x):x=f[12],f[13]!==c||f[14]!==m||f[15]!==x?(u=(0,a.jsxs)(s.CardContent,{children:[c,m,x]}),f[13]=c,f[14]=m,f[15]=x,f[16]=u):u=f[16],f[17]!==o||f[18]!==u?(h=(0,a.jsxs)(s.Card,{className:"hover:shadow-lg transition-shadow",children:[o,u]}),f[17]=o,f[18]=u,f[19]=h):h=f[19],h}e.s(["KPICard",()=>l])},96506,71650,e=>{"use strict";var a=e.i(15696),t=e.i(433),s=e.i(5268);let r=(0,e.i(20587).default)("file-spreadsheet",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);e.s(["FileSpreadsheet",()=>r],71650);var n=e.i(83970),i=e.i(77952),l=e.i(30418),d=e.i(82060);function o(){let[e,o]=(0,t.useState)(!1),[c,m]=(0,t.useState)(null),x=async e=>{o(!0),m(e);try{let a=await fetch(`/api/juridico/relatorios?formato=${e}`);if(!a.ok){let e=await a.json();throw Error(e.error||"Erro ao exportar relatório")}let t=a.headers.get("Content-Disposition"),s=`relatorio-${"excel"===e?"demandas.xlsx":"demandas.pdf"}`;if(t){let e=/filename="?([^"]+)"?/.exec(t);e&&e[1]&&(s=e[1])}let r=await a.blob(),n=window.URL.createObjectURL(r),i=document.createElement("a");i.href=n,i.download=s,document.body.appendChild(i),i.click(),window.URL.revokeObjectURL(n),document.body.removeChild(i)}catch(e){console.error("Erro ao exportar:",e),alert(e instanceof Error?e.message:"Erro ao exportar relatório")}finally{o(!1),m(null)}};return(0,a.jsxs)(d.DropdownMenu,{children:[(0,a.jsx)(d.DropdownMenuTrigger,{asChild:!0,children:(0,a.jsx)(l.Button,{variant:"outline",disabled:e,children:e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}),"Exportando..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.Download,{className:"h-4 w-4 mr-2"}),"Exportar"]})})}),(0,a.jsxs)(d.DropdownMenuContent,{align:"end",children:[(0,a.jsxs)(d.DropdownMenuItem,{onClick:()=>x("excel"),disabled:e,children:[(0,a.jsx)(r,{className:"h-4 w-4 mr-2"}),"excel"===c?"Exportando...":"Exportar para Excel"]}),(0,a.jsxs)(d.DropdownMenuItem,{onClick:()=>x("pdf"),disabled:e,className:"opacity-50 cursor-not-allowed",children:[(0,a.jsx)(n.FileText,{className:"h-4 w-4 mr-2"}),"Exportar para PDF (Em breve)"]})]})]})}e.s(["ExportButton",()=>o],96506)},48746,e=>{"use strict";var a=e.i(15696),t=e.i(433),s=e.i(80477);let r=t.forwardRef(({className:e,...t},r)=>(0,a.jsx)("div",{ref:r,className:(0,s.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));r.displayName="Card";let n=t.forwardRef(({className:e,...t},r)=>(0,a.jsx)("div",{ref:r,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",e),...t}));n.displayName="CardHeader";let i=t.forwardRef(({className:e,...t},r)=>(0,a.jsx)("h3",{ref:r,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));i.displayName="CardTitle";let l=t.forwardRef(({className:e,...t},r)=>(0,a.jsx)("p",{ref:r,className:(0,s.cn)("text-sm text-muted-foreground",e),...t}));l.displayName="CardDescription";let d=t.forwardRef(({className:e,...t},r)=>(0,a.jsx)("div",{ref:r,className:(0,s.cn)("p-6 pt-0",e),...t}));d.displayName="CardContent",t.forwardRef(({className:e,...t},r)=>(0,a.jsx)("div",{ref:r,className:(0,s.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter",e.s(["Card",()=>r,"CardContent",()=>d,"CardDescription",()=>l,"CardHeader",()=>n,"CardTitle",()=>i])},71940,(e,a,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={callServer:function(){return n.callServer},createServerReference:function(){return l.createServerReference},findSourceMapURL:function(){return i.findSourceMapURL}};for(var r in s)Object.defineProperty(t,r,{enumerable:!0,get:s[r]});let n=e.r(9694),i=e.r(75127),l=e.r(5951)},5268,e=>{"use strict";let a=(0,e.i(20587).default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);e.s(["Download",()=>a],5268)},21303,16780,e=>{"use strict";let a=(0,e.i(20587).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["Trash2",()=>a],21303);var t=e.i(15696),s=e.i(40977),r=e.i(433),n=e.i(71732),i=e.i(1860),l=e.i(80477);let d=n.Root,o=n.Trigger,c=n.Portal;n.Close;let m=r.forwardRef((e,a)=>{let r,i,d,o,c=(0,s.c)(9);return c[0]!==e?({className:r,...i}=e,c[0]=e,c[1]=r,c[2]=i):(r=c[1],i=c[2]),c[3]!==r?(d=(0,l.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r),c[3]=r,c[4]=d):d=c[4],c[5]!==i||c[6]!==a||c[7]!==d?(o=(0,t.jsx)(n.Overlay,{ref:a,className:d,...i}),c[5]=i,c[6]=a,c[7]=d,c[8]=o):o=c[8],o});m.displayName=n.Overlay.displayName;let x=r.forwardRef((e,a)=>{let r,d,o,x,u,h,f,p=(0,s.c)(13);return p[0]!==e?({className:d,children:r,...o}=e,p[0]=e,p[1]=r,p[2]=d,p[3]=o):(r=p[1],d=p[2],o=p[3]),p[4]===Symbol.for("react.memo_cache_sentinel")?(x=(0,t.jsx)(m,{}),p[4]=x):x=p[4],p[5]!==d?(u=(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",d),p[5]=d,p[6]=u):u=p[6],p[7]===Symbol.for("react.memo_cache_sentinel")?(h=(0,t.jsxs)(n.Close,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,t.jsx)(i.X,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]}),p[7]=h):h=p[7],p[8]!==r||p[9]!==o||p[10]!==a||p[11]!==u?(f=(0,t.jsxs)(c,{children:[x,(0,t.jsxs)(n.Content,{ref:a,className:u,...o,children:[r,h]})]}),p[8]=r,p[9]=o,p[10]=a,p[11]=u,p[12]=f):f=p[12],f});x.displayName=n.Content.displayName;let u=e=>{let a,r,n,i,d=(0,s.c)(8);return d[0]!==e?({className:a,...r}=e,d[0]=e,d[1]=a,d[2]=r):(a=d[1],r=d[2]),d[3]!==a?(n=(0,l.cn)("flex flex-col space-y-1.5 text-center sm:text-left",a),d[3]=a,d[4]=n):n=d[4],d[5]!==r||d[6]!==n?(i=(0,t.jsx)("div",{className:n,...r}),d[5]=r,d[6]=n,d[7]=i):i=d[7],i};u.displayName="DialogHeader";let h=e=>{let a,r,n,i,d=(0,s.c)(8);return d[0]!==e?({className:a,...r}=e,d[0]=e,d[1]=a,d[2]=r):(a=d[1],r=d[2]),d[3]!==a?(n=(0,l.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),d[3]=a,d[4]=n):n=d[4],d[5]!==r||d[6]!==n?(i=(0,t.jsx)("div",{className:n,...r}),d[5]=r,d[6]=n,d[7]=i):i=d[7],i};h.displayName="DialogFooter";let f=r.forwardRef((e,a)=>{let r,i,d,o,c=(0,s.c)(9);return c[0]!==e?({className:r,...i}=e,c[0]=e,c[1]=r,c[2]=i):(r=c[1],i=c[2]),c[3]!==r?(d=(0,l.cn)("text-lg font-semibold leading-none tracking-tight",r),c[3]=r,c[4]=d):d=c[4],c[5]!==i||c[6]!==a||c[7]!==d?(o=(0,t.jsx)(n.Title,{ref:a,className:d,...i}),c[5]=i,c[6]=a,c[7]=d,c[8]=o):o=c[8],o});f.displayName=n.Title.displayName;let p=r.forwardRef((e,a)=>{let r,i,d,o,c=(0,s.c)(9);return c[0]!==e?({className:r,...i}=e,c[0]=e,c[1]=r,c[2]=i):(r=c[1],i=c[2]),c[3]!==r?(d=(0,l.cn)("text-sm text-muted-foreground",r),c[3]=r,c[4]=d):d=c[4],c[5]!==i||c[6]!==a||c[7]!==d?(o=(0,t.jsx)(n.Description,{ref:a,className:d,...i}),c[5]=i,c[6]=a,c[7]=d,c[8]=o):o=c[8],o});p.displayName=n.Description.displayName,e.s(["Dialog",()=>d,"DialogContent",()=>x,"DialogDescription",()=>p,"DialogFooter",()=>h,"DialogHeader",()=>u,"DialogTitle",()=>f,"DialogTrigger",()=>o],16780)},99734,e=>{"use strict";var a=e.i(71940);let t=(0,a.createServerReference)("404b748f0b1946809009224a95532ef6f14a9fe75e",a.callServer,void 0,a.findSourceMapURL,"getDemandas");e.s(["getDemandas",()=>t])},63998,e=>{"use strict";var a=e.i(15696),t=e.i(433),s=e.i(99734),r=e.i(27932),n=e.i(9709),i=e.i(85012),l=e.i(90739),d=e.i(30673),o=e.i(40977),c=e.i(5480),m=e.i(9644),x=e.i(64300),u=e.i(96642),h=e.i(78989),f=e.i(85580),p=e.i(93342),g=e.i(48746);function j(e){let t,s,r,n,i,l,d,j,v,N,y,C=(0,o.c)(24),{data:b,title:w,dataKey:D,color:k}=e,S=void 0===D?"value":D,M=void 0===k?"hsl(var(--primary))":k;C[0]!==w?(t=w&&(0,a.jsx)(g.CardHeader,{children:(0,a.jsx)(g.CardTitle,{children:w})}),C[0]=w,C[1]=t):t=C[1];let R=`gradient-${S}`;C[2]!==M?(s=(0,a.jsx)("stop",{offset:"5%",stopColor:M,stopOpacity:.8}),r=(0,a.jsx)("stop",{offset:"95%",stopColor:M,stopOpacity:0}),C[2]=M,C[3]=s,C[4]=r):(s=C[3],r=C[4]),C[5]!==R||C[6]!==s||C[7]!==r?(n=(0,a.jsx)("defs",{children:(0,a.jsxs)("linearGradient",{id:R,x1:"0",y1:"0",x2:"0",y2:"1",children:[s,r]})}),C[5]=R,C[6]=s,C[7]=r,C[8]=n):n=C[8],C[9]===Symbol.for("react.memo_cache_sentinel")?(l=(0,a.jsx)(h.CartesianGrid,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),d=(0,a.jsx)(x.XAxis,{dataKey:"name",stroke:"hsl(var(--muted-foreground))",fontSize:12}),i=(0,a.jsx)(u.YAxis,{stroke:"hsl(var(--muted-foreground))",fontSize:12}),C[9]=i,C[10]=l,C[11]=d):(i=C[9],l=C[10],d=C[11]),C[12]===Symbol.for("react.memo_cache_sentinel")?(j=(0,a.jsx)(f.Tooltip,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}}),C[12]=j):j=C[12];let E=`url(#gradient-${S})`;return C[13]!==M||C[14]!==S||C[15]!==E?(v=(0,a.jsx)(m.Area,{type:"monotone",dataKey:S,stroke:M,fill:E,strokeWidth:2}),C[13]=M,C[14]=S,C[15]=E,C[16]=v):v=C[16],C[17]!==b||C[18]!==v||C[19]!==n?(N=(0,a.jsx)(g.CardContent,{children:(0,a.jsx)(p.ResponsiveContainer,{width:"100%",height:300,children:(0,a.jsxs)(c.AreaChart,{data:b,children:[n,l,d,i,j,v]})})}),C[17]=b,C[18]=v,C[19]=n,C[20]=N):N=C[20],C[21]!==N||C[22]!==t?(y=(0,a.jsxs)(g.Card,{children:[t,N]}),C[21]=N,C[22]=t,C[23]=y):y=C[23],y}var v=e.i(80477);function N(e){let t,s,r,n,i,l,d=(0,o.c)(25),{value:c,size:m,strokeWidth:x,className:u,color:h}=e,f=void 0===m?80:m,p=void 0===x?8:x,g=void 0===h?"hsl(var(--primary))":h,j=(f-p)/2,N=2*j*Math.PI,y=N-c/100*N;d[0]!==u?(t=(0,v.cn)("relative inline-flex items-center justify-center",u),d[0]=u,d[1]=t):t=d[1];let C=f/2,b=f/2;d[2]!==j||d[3]!==p||d[4]!==C||d[5]!==b?(s=(0,a.jsx)("circle",{cx:C,cy:b,r:j,stroke:"hsl(var(--muted))",strokeWidth:p,fill:"none"}),d[2]=j,d[3]=p,d[4]=C,d[5]=b,d[6]=s):s=d[6];let w=f/2,D=f/2;return d[7]!==N||d[8]!==g||d[9]!==y||d[10]!==j||d[11]!==p||d[12]!==w||d[13]!==D?(r=(0,a.jsx)("circle",{cx:w,cy:D,r:j,stroke:g,strokeWidth:p,fill:"none",strokeDasharray:N,strokeDashoffset:y,strokeLinecap:"round",className:"transition-all duration-500"}),d[7]=N,d[8]=g,d[9]=y,d[10]=j,d[11]=p,d[12]=w,d[13]=D,d[14]=r):r=d[14],d[15]!==f||d[16]!==r||d[17]!==s?(n=(0,a.jsxs)("svg",{width:f,height:f,className:"transform -rotate-90",children:[s,r]}),d[15]=f,d[16]=r,d[17]=s,d[18]=n):n=d[18],d[19]!==c?(i=(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,a.jsxs)("span",{className:"text-sm font-semibold",children:[c,"%"]})}),d[19]=c,d[20]=i):i=d[20],d[21]!==n||d[22]!==i||d[23]!==t?(l=(0,a.jsxs)("div",{className:t,children:[n,i]}),d[21]=n,d[22]=i,d[23]=t,d[24]=l):l=d[24],l}var y=e.i(20587);let C=(0,y.default)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);var b=e.i(87061),w=e.i(40426),D=e.i(30418);function k(){let[e,r]=(0,t.useState)(new Date),[n,i]=(0,t.useState)([]),[l,d]=(0,t.useState)(!0);(0,t.useEffect)(()=>{!async function(){try{let e=await (0,s.getDemandas)();i(e)}catch(e){console.error("Erro ao carregar demandas:",e)}finally{d(!1)}}()},[]);let o=(0,t.useMemo)(()=>{let e=[];return n.forEach(a=>{a.data_pagamento&&e.push({id:`${a.id}-pagamento`,data:new Date(a.data_pagamento),tipo:"pagamento",demanda:a.demanda,cliente:a.cliente_nome}),a.data_fim_contrato&&e.push({id:`${a.id}-fim`,data:new Date(a.data_fim_contrato),tipo:"fim_contrato",demanda:a.demanda,cliente:a.cliente_nome}),a.data_entrega&&e.push({id:`${a.id}-entrega`,data:new Date(a.data_entrega),tipo:"entrega",demanda:a.demanda,cliente:a.cliente_nome})}),e},[n]),c=new Date(e.getFullYear(),e.getMonth(),1),m=new Date(e.getFullYear(),e.getMonth()+1,0).getDate(),x=c.getDay(),u=e.toLocaleDateString("pt-BR",{month:"long",year:"numeric"}),h=e=>{switch(e){case"pagamento":return"Pagamento";case"fim_contrato":return"Fim Contrato";case"entrega":return"Entrega"}};return l?(0,a.jsxs)(g.Card,{children:[(0,a.jsx)(g.CardHeader,{children:(0,a.jsxs)(g.CardTitle,{className:"flex items-center gap-2",children:[(0,a.jsx)(w.Calendar,{className:"h-5 w-5"}),"Calendário de Pagamentos"]})}),(0,a.jsx)(g.CardContent,{children:(0,a.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Carregando..."})})})]}):(0,a.jsxs)(g.Card,{children:[(0,a.jsx)(g.CardHeader,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)(g.CardTitle,{className:"flex items-center gap-2",children:[(0,a.jsx)(w.Calendar,{className:"h-5 w-5"}),"Calendário de Pagamentos"]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(D.Button,{variant:"outline",size:"icon",onClick:()=>{r(new Date(e.getFullYear(),e.getMonth()-1,1))},children:(0,a.jsx)(C,{className:"h-4 w-4"})}),(0,a.jsx)("span",{className:"text-sm font-medium w-40 text-center capitalize",children:u}),(0,a.jsx)(D.Button,{variant:"outline",size:"icon",onClick:()=>{r(new Date(e.getFullYear(),e.getMonth()+1,1))},children:(0,a.jsx)(b.ChevronRight,{className:"h-4 w-4"})})]})]})}),(0,a.jsx)(g.CardContent,{children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"].map(e=>(0,a.jsx)("div",{className:"text-center text-xs font-medium text-muted-foreground p-2",children:e},e))}),(0,a.jsxs)("div",{className:"grid grid-cols-7 gap-1",children:[Array.from({length:x}).map((e,t)=>(0,a.jsx)("div",{className:"aspect-square"},`empty-${t}`)),Array.from({length:m}).map((t,s)=>{let r,n=s+1,i=(r=new Date(e.getFullYear(),e.getMonth(),n),o.filter(e=>e.data.toDateString()===r.toDateString())),l=n===new Date().getDate()&&e.getMonth()===new Date().getMonth()&&e.getFullYear()===new Date().getFullYear();return(0,a.jsxs)("div",{className:(0,v.cn)("aspect-square border border-border rounded-lg p-1 relative cursor-pointer hover:bg-accent transition-colors",l&&"ring-2 ring-primary"),title:i.map(e=>`${h(e.tipo)}: ${e.demanda}`).join("\n"),children:[(0,a.jsx)("div",{className:"text-xs font-medium mb-1",children:n}),(0,a.jsxs)("div",{className:"space-y-0.5",children:[i.slice(0,2).map(e=>(0,a.jsx)("div",{className:(0,v.cn)("text-[10px] px-1 py-0.5 rounded border truncate",(e=>{switch(e){case"pagamento":return"bg-blue-500/20 border-blue-500/50 text-blue-400";case"fim_contrato":return"bg-red-500/20 border-red-500/50 text-red-400";case"entrega":return"bg-green-500/20 border-green-500/50 text-green-400"}})(e.tipo)),title:`${h(e.tipo)}: ${e.demanda} - ${e.cliente}`,children:h(e.tipo)},e.id)),i.length>2&&(0,a.jsxs)("div",{className:"text-[10px] text-muted-foreground",children:["+",i.length-2]})]})]},n)})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4 mt-4 pt-4 border-t",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded bg-blue-500/20 border border-blue-500/50"}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:"Pagamento"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded bg-red-500/20 border border-red-500/50"}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:"Fim Contrato"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded bg-green-500/20 border border-green-500/50"}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:"Entrega"})]})]})]})})]})}var S=e.i(63237),M=e.i(98744),R=e.i(83970);let E=(0,y.default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),P=(0,y.default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var T=e.i(54792),_=e.i(77952),F=e.i(70652),A=e.i(56171);let B=(0,y.default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);var U=e.i(30836),z=e.i(21303),L=e.i(96506),H=e.i(42915),$=e.i(33870),K=e.i(16780);function O(){let e=(0,$.useRouter)(),[o,c]=(0,t.useState)([]),[m,x]=(0,t.useState)(!0),[u,h]=(0,t.useState)({}),[f,p]=(0,t.useState)({total:0,pendentes:0,emAndamento:0,concluidos:0}),[v,y]=(0,t.useState)([]),[C,b]=(0,t.useState)([]),[O,I]=(0,t.useState)(""),[q,Y]=(0,t.useState)(!1),[V,W]=(0,t.useState)(null);async function G(){x(!0);try{let[e,a,t,l]=await Promise.all([(0,s.getDemandas)(u),(0,r.getKPIs)(),(0,n.getUniqueResponsaveis)(),(0,i.getUniqueClientes)()]);c(e),p(a),y(t),b(l)}catch(e){console.error("Erro ao carregar dados:",e)}finally{x(!1)}}(0,t.useEffect)(()=>{G()},[u]);let J=()=>{h({...u,search:O||void 0})},Q=async()=>{if(V)try{await (0,l.deleteDemanda)(V),c(o.filter(e=>e.id!==V)),Y(!1),W(null),G()}catch(e){console.error("Erro ao excluir demanda:",e),alert("Erro ao excluir demanda")}};return(0,a.jsxs)("div",{className:"flex-1 space-y-6 p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Dashboard"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Visão geral das demandas jurídicas"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(L.ExportButton,{}),(0,a.jsx)(H.default,{href:"/juridico/nova",children:(0,a.jsxs)(D.Button,{children:[(0,a.jsx)(P,{className:"mr-2 h-4 w-4"}),"Nova Demanda"]})})]})]}),(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,a.jsx)(d.KPICard,{title:"Total de Demandas",value:f.total,icon:(0,a.jsx)(R.FileText,{className:"h-4 w-4"}),trend:{value:12,isPositive:!0}}),(0,a.jsx)(d.KPICard,{title:"Pendentes",value:f.pendentes,icon:(0,a.jsx)(F.AlertCircle,{className:"h-4 w-4"}),trend:{value:-5,isPositive:!1}}),(0,a.jsx)(d.KPICard,{title:"Em Andamento",value:f.emAndamento,icon:(0,a.jsx)(A.Clock,{className:"h-4 w-4"}),trend:{value:8,isPositive:!0}}),(0,a.jsx)(d.KPICard,{title:"Concluídos",value:f.concluidos,icon:(0,a.jsx)(B,{className:"h-4 w-4"}),trend:{value:15,isPositive:!0}})]}),(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-10",children:[(0,a.jsxs)(g.Card,{className:"col-span-4",children:[(0,a.jsx)(g.CardHeader,{children:(0,a.jsx)(g.CardTitle,{children:"Evolução Mensal"})}),(0,a.jsx)(g.CardContent,{children:(0,a.jsx)(j,{data:[{name:"Jan",value:45},{name:"Fev",value:52},{name:"Mar",value:48},{name:"Abr",value:61},{name:"Mai",value:55},{name:"Jun",value:67}],title:""})})]}),(0,a.jsx)("div",{className:"col-span-3 space-y-4",children:(0,a.jsxs)(g.Card,{children:[(0,a.jsx)(g.CardHeader,{children:(0,a.jsx)(g.CardTitle,{children:"Progresso Geral"})}),(0,a.jsxs)(g.CardContent,{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"Concluídos"}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[f.concluidos," de ",f.total," demandas"]})]}),(0,a.jsx)(N,{value:f.total>0?Math.round(f.concluidos/f.total*100):0,color:"hsl(var(--success))"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"Em Andamento"}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[f.emAndamento," demandas ativas"]})]}),(0,a.jsx)(N,{value:f.total>0?Math.round(f.emAndamento/f.total*100):0,color:"hsl(var(--warning))"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"Pendentes"}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[f.pendentes," aguardando"]})]}),(0,a.jsx)(N,{value:f.total>0?Math.round(f.pendentes/f.total*100):0,color:"hsl(var(--error))"})]})]})]})}),(0,a.jsx)("div",{className:"col-span-3",children:(0,a.jsx)(k,{})})]}),(0,a.jsxs)(g.Card,{children:[(0,a.jsx)(g.CardHeader,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(g.CardTitle,{children:"Demandas Recentes"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(T.Search,{className:"absolute left-2 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),(0,a.jsx)(M.Input,{type:"search",placeholder:"Buscar...",value:O,onChange:e=>I(e.target.value),onKeyPress:e=>"Enter"===e.key&&J(),className:"w-64 pl-8"})]}),(0,a.jsx)(D.Button,{variant:"outline",onClick:J,children:"Filtrar"})]})]})}),(0,a.jsx)(g.CardContent,{children:m?(0,a.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,a.jsx)(_.Loader2,{className:"h-8 w-8 animate-spin text-primary"})}):0===o.length?(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[(0,a.jsx)(R.FileText,{className:"h-12 w-12 text-muted-foreground mb-4"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Nenhuma demanda encontrada"})]}):(0,a.jsx)("div",{className:"space-y-4",children:o.slice(0,10).map(t=>(0,a.jsxs)("div",{className:"flex items-start gap-2 rounded-lg border border-border bg-card p-4 transition-colors hover:bg-accent",children:[(0,a.jsxs)(H.default,{href:`/juridico/${t.id}`,className:"flex-1 space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("h3",{className:"font-semibold",children:t.demanda}),(e=>{switch(e){case"CONCLUÍDO":return(0,a.jsx)(S.Badge,{variant:"success",children:"Concluído"});case"EM ANDAMENTO":return(0,a.jsx)(S.Badge,{variant:"warning",children:"Em Andamento"});case"PENDENTE":return(0,a.jsx)(S.Badge,{variant:"error",children:"Pendente"});case"Cancelado":return(0,a.jsx)(S.Badge,{variant:"outline",children:"Cancelado"});default:return(0,a.jsx)(S.Badge,{variant:"outline",children:e})}})(t.status)]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:t.cliente_nome}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(E,{className:"h-3 w-3"}),t.responsavel]}),t.data_solicitacao&&(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(w.Calendar,{className:"h-3 w-3"}),new Date(t.data_solicitacao).toLocaleDateString("pt-BR")]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(D.Button,{variant:"ghost",size:"icon",onClick:a=>{var s;a.preventDefault(),s=t.id,e.push(`/juridico/${s}`)},className:"h-8 w-8",children:(0,a.jsx)(U.Pencil,{className:"h-4 w-4 text-muted-foreground"})}),(0,a.jsx)(D.Button,{variant:"ghost",size:"icon",onClick:e=>{var a;return a=t.id,void(e.preventDefault(),e.stopPropagation(),W(a),Y(!0))},className:"h-8 w-8 text-destructive hover:text-destructive",children:(0,a.jsx)(z.Trash2,{className:"h-4 w-4"})})]})]},t.id))})})]}),(0,a.jsx)(K.Dialog,{open:q,onOpenChange:Y,children:(0,a.jsxs)(K.DialogContent,{children:[(0,a.jsxs)(K.DialogHeader,{children:[(0,a.jsx)(K.DialogTitle,{children:"Excluir Demanda"}),(0,a.jsx)(K.DialogDescription,{children:"Tem certeza que deseja excluir esta demanda? Esta ação não pode ser desfeita."})]}),(0,a.jsxs)(K.DialogFooter,{children:[(0,a.jsx)(D.Button,{variant:"outline",onClick:()=>Y(!1),children:"Cancelar"}),(0,a.jsx)(D.Button,{variant:"destructive",onClick:Q,children:"Excluir"})]})]})})]})}e.s(["default",()=>O],63998)}]);